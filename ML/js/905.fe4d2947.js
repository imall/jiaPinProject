"use strict";(self["webpackChunkbos_designer"]=self["webpackChunkbos_designer"]||[]).push([[905],{9905:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"box-border h-full min-h-[calc(100vh-84px)] w-full pb-[84px]"},[s("C-Back-Nav",{attrs:{title:"帳單列表",routeTarget:{name:"Report"}}}),s("section",{staticClass:"relative z-0 mt-[52px] p-3"},[s("div",{staticClass:"flex items-center gap-2"},[s("p",[e._v("日期：")]),s("vc-date-picker",{attrs:{mode:"date","model-config":e.modelConfig},on:{input:function(t){return e.getOrders()}},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.inputValue,a=t.inputEvents;return[s("input",e._g({staticClass:"rounded border border-stone-400 px-2 py-1 placeholder:text-black focus:border-blue-300 focus:outline-none",attrs:{placeholder:e.$dayjs(e.reviewResult.currentDate).format("YYYY/MM/DD")},domProps:{value:l}},a))]}}]),model:{value:e.searchDate,callback:function(t){e.searchDate=t},expression:"searchDate"}})],1),s("div",{staticClass:"text-left text-sm"},[s("div",{staticClass:"my-4 flex items-center justify-between"},[s("div",{staticClass:"flex items-baseline"},[s("p",{staticClass:"mr-1 text-[24px] font-bold"},[e._v(e._s(e.showYear)+"年")]),s("p",[e._v(e._s(e.showMonth)+"月")])]),s("div",[s("p",[e._v("設計師 "+e._s(e.userInfo.user.name))])])]),e.reviewResult.intervalSummary&&e.reviewResult.orders.length>0?s("ul",{staticClass:"grid grid-cols-12 gap-4"},[s("li",{staticClass:"col-span-3 flex h-full flex-col items-center justify-between gap-2 text-center md:col-span-2"},[s("p",[e._v("服務消費")]),s("p",{staticClass:"text-lg font-bold"},[e._v(e._s(e.reviewResult.intervalSummary.service))])]),s("li",{staticClass:"col-span-3 flex h-full flex-col items-center justify-between gap-2 text-center md:col-span-2"},[s("p",[e._v("店販消費")]),s("p",{staticClass:"text-lg font-bold"},[e._v(e._s(e.reviewResult.intervalSummary.product))])]),s("li",{staticClass:"col-span-3 flex h-full flex-col items-center justify-between gap-2 text-center md:col-span-2"},[s("p",[e._v("卡券使用(入業績)")]),s("p",{staticClass:"text-lg font-bold"},[e._v(e._s(e.reviewResult.intervalSummary.usedTicket))])]),s("li",{staticClass:"col-span-3 flex h-full flex-col items-center justify-between gap-2 text-center md:col-span-2"},[s("p",[e._v("卡券販賣(入業績)")]),s("p",{staticClass:"text-lg font-bold"},[e._v(e._s(e.reviewResult.intervalSummary.ticketSellIntoPerformance))])]),s("li",{staticClass:"col-span-3 flex h-full flex-col items-center justify-between gap-2 text-center md:col-span-2"},[s("p",[e._v("業績收入")]),s("p",{staticClass:"text-lg font-bold"},[e._v(e._s(e.reviewResult.intervalSummary.performanceIncome))])]),s("li",{staticClass:"col-span-3 flex h-full flex-col items-center justify-between gap-2 text-center md:col-span-2"},[s("p",[e._v("卡券販賣(不入業績)")]),s("p",{staticClass:"text-lg font-bold"},[e._v(e._s(e.reviewResult.intervalSummary.ticketSellNotIntoPerformance))])]),s("li",{staticClass:"col-span-3 flex h-full flex-col items-center justify-between gap-2 text-center md:col-span-2"},[s("p",[e._v("卡券使用(-)")]),s("p",{staticClass:"text-lg font-bold"},[e._v(e._s(e.reviewResult.intervalSummary.usedTicketForDecount))])]),s("li",{staticClass:"col-span-3 flex h-full flex-col items-center justify-between gap-2 text-center md:col-span-2"},[s("p",[e._v("第三方卡券(-)")]),s("p",{staticClass:"text-lg font-bold"},[e._v(e._s(e.reviewResult.intervalSummary.thirdPartTicketForDecount))])]),s("li",{staticClass:"col-span-3 flex h-full flex-col items-center justify-between gap-2 text-center md:col-span-2"},[s("p",[e._v("其他付款方式(-)")]),s("p",{staticClass:"text-lg font-bold"},[e._v(e._s(e.reviewResult.intervalSummary.otherPayWayForDecount))])]),s("li",{staticClass:"col-span-3 flex h-full flex-col items-center justify-between gap-2 text-center md:col-span-2"},[s("p",[e._v("入金使用(-)")]),s("p",{staticClass:"text-lg font-bold"},[e._v(e._s(e.reviewResult.intervalSummary.walletUsedForDecount?e.reviewResult.intervalSummary.walletUsedForDecount:0))])]),s("li",{staticClass:"col-span-3 flex h-full flex-col items-center justify-between gap-2 text-center md:col-span-2"},[s("p",[e._v("入金儲值")]),s("p",{staticClass:"text-lg font-bold"},[e._v(e._s(e.reviewResult.intervalSummary.walletDeposit))])]),s("li",{staticClass:"col-span-3 flex h-full flex-col items-center justify-between gap-2 text-center md:col-span-2"},[s("p",[e._v("營業現金應收")]),s("p",{staticClass:"text-lg font-bold"},[e._v(e._s(e.reviewResult.intervalSummary.businessCash))])])]):e._e(),e.reviewResult.orders&&e.reviewResult.orders.length>0?s("h2",{staticClass:"mt-5 mb-3 text-xl font-bold"},[e._v("訂單列表")]):e._e(),e.reviewResult.orders&&e.reviewResult.orders.length>0?s("ul",{staticClass:"grid gap-4"},e._l(e.reviewResult.orders,(function(t){return s("li",{key:t.id,staticClass:"w-full bg-[#08424c] p-2 text-white"},[s("p",{staticClass:"mb-2 text-xl font-bold"},[e._v("訂單編號 "+e._s(t.no))]),s("div",{staticClass:"grid grid-cols-12 gap-2"},[s("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[s("p",[e._v("服務消費")]),s("p",[e._v("$"+e._s(t.serviceFakeTotal))])]),s("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[s("p",[e._v("店販消費")]),s("p",[e._v("$"+e._s(t.productFakeTotal))])]),s("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[s("p",[e._v("卡券使用(入業績)")]),s("p",[e._v("$"+e._s(t.useTicketTotal))])]),s("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[s("p",[e._v("卡券販賣(入業績)")]),s("p",[e._v("$"+e._s(t.ticketSellIntoPerformance))])]),s("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[s("p",[e._v("業績收入")]),s("p",[e._v("$"+e._s(t.performanceIncome))])]),s("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[s("p",[e._v("卡券販賣(不入業績)")]),s("p",[e._v("$"+e._s(t.ticketSellNotIntoPerformance))])]),s("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[s("p",[e._v("卡券使用(-)")]),s("p",[e._v("$"+e._s(t.usedTicketForDecount))])]),s("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[s("p",[e._v("第三方卡券(-)")]),s("p",[e._v("$"+e._s(t.thirdPartTicketForDecount))])]),s("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[s("p",[e._v("其他付款方式(-)")]),s("p",[e._v("$"+e._s(t.otherPayWayForDecount))])]),s("div",{staticClass:"col-span-12 flex justify-between border-b border-b-white"},[s("p",[e._v("入金使用(-)")]),s("p",[e._v("$"+e._s(t.walletUsedForDecount))])]),s("div",{staticClass:"col-span-12 flex justify-between"},[s("p",[e._v("營業現金應收")]),s("p",[e._v("$"+e._s(t.businessCash))])])]),s("ul",{staticClass:"my-2"},[s("li",{staticClass:"flex items-center justify-between bg-black/20 py-3 px-2",on:{click:function(e){t.isOpen=!t.isOpen},keypress:function(e){t.isOpen=!t.isOpen}}},[s("p",{staticClass:"text-lg"},[e._v("詳細資料")]),s("font-awesome-icon",{staticClass:"cursor-pointer text-lg duration-300",class:{"rotate-180":t.isOpen},attrs:{icon:"fa-regular fa-angle-up"}})],1),s("ul",{staticClass:"overflow-hidden bg-black/20 px-2 duration-300",class:{"max-h-[200vh]":t.isOpen,"max-h-[0px]":!t.isOpen}},[s("li",[s("table",{staticClass:"w-full"},[e._m(0,!0),s("tbody",e._l(t.staticDetail,(function(l,a){return s("tr",{key:a,class:{"border-b border-b-white py-1.5":a!==t.staticDetail.length-1}},[s("td",{staticClass:"p-1.5"},[e._v(e._s(l.designerName))]),s("td",{staticClass:"p-1.5"},[e._v(e._s(l.itemName))]),s("td",{staticClass:"p-1.5"},[e._v("$"+e._s(l.price))]),s("td",{staticClass:"p-1.5"},e._l(l.helperList,(function(t,l){return s("p",{key:l},[e._v(" "+e._s(t.helperName)+" ")])})),0)])})),0)])])])])])})),0):e._e(),e.reviewResult.orders&&0!==e.reviewResult.orders.length?e._e():s("p",{staticClass:"mt-10 text-center text-stone-500"},[e._v("查無資料")])])])],1)},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",[e._v("設計師")]),s("th",[e._v("項目")]),s("th",[e._v("價格")]),s("th",[e._v("互助人")])])])}],r=s(629),i={name:"priceList-index",description:"報表的帳單列表",metaInfo:{title:"名留",titleTemplate:"%s | 帳單列表"},data(){return{modelConfig:{start:{timeAdjust:"00:00:00"},end:{timeAdjust:"23:59:59"}},pageOffset:0,searchDate:this.$dayjs().add(0,"month").format("YYYY-MM-DD"),date:"",reviewResult:{},showDetail:[]}},methods:{doRoute(){this.$router.push({name:"Punch"})},async getOrders(){if(!this.searchDate)return;const e={startDate:this.searchDate.getTime(),endDate:this.searchDate.getTime(),pageLimit:20,pageOffset:this.pageOffset,isReserved:!1},t=await this.$api.designerOrders(e),{data:s}=t.data;s.orders.orders.length>0?s.orders.orders.forEach(((e,t)=>{e["isOpen"]=!1,t===s.orders.orders.length-1&&(this.reviewResult=s.orders)})):this.reviewResult=s.orders,this.reviewResult["currentDate"]=this.searchDate}},computed:{...(0,r.rn)("userInfo",["userInfo"]),isReviewResult(){return this.reviewResult.length},showMonth(){return`${this.$dayjs(this.reviewResult.currentDate).format("MM")}`},showYear(){return`${this.$dayjs(this.reviewResult.currentDate).format("YYYY")}`},currentMM(){let e="";return e=this.date?this.$dayjs(this.date).format("MM"):this.$dayjs(new Date).format("MM"),e},currentYYYY(){let e="";return e=this.date?this.$dayjs(this.date).format("YYYY"):this.$dayjs(new Date).format("YYYY"),e}}},n=i,o=s(3736),c=(0,o.Z)(n,l,a,!1,null,null,null),u=c.exports}}]);
//# sourceMappingURL=905.fe4d2947.js.map