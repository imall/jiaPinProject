{"version":3,"file":"js/339-legacy.2fb13e5d.js","mappings":"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","sources":["webpack://bos-designer/./src/views/Home/scheduleBreak/detail.vue?1644","webpack://bos-designer/src/views/Home/scheduleBreak/detail.vue","webpack://bos-designer/./src/views/Home/scheduleBreak/detail.vue?0450","webpack://bos-designer/./src/views/Home/scheduleBreak/detail.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"box-border h-full min-h-[calc(100vh-84px)] w-full pb-[84px]\"},[_c('C-Back-Nav',{attrs:{\"title\":'行事曆',\"routeTarget\":{name: 'ScheduleBreak'}}}),(_vm.resultItem)?_c('section',{staticClass:\"relative z-0 mt-[52px] p-3\"},[_c('div',{staticClass:\"m-auto mt-4 max-w-[475px] rounded-lg p-2 text-left shadow-[0_4px_10px_3px_rgba(0,0,0,0.1)]\"},[_c('p',{staticClass:\"mb-2 text-center text-lg font-semibold\"},[_vm._v(_vm._s(_vm.$route.query.isReview ? '預約內容' : '預約明細'))]),_c('div',{staticClass:\"mb-2 flex items-center border-b border-solid border-primary/5 pb-1\"},[_c('p',{staticClass:\"w-1/3 font-bold\"},[_vm._v(\"預約時間:\")]),_c('p',{staticClass:\"w-1/3\"},[_vm._v(_vm._s(_vm._f(\"dateFmtROCMMDD\")(_vm.resultItem.date)))]),_c('p',{staticClass:\"w-1/3\"},[_vm._v(_vm._s(_vm._f(\"dateFmtHm\")(_vm.resultItem.date)))])]),_c('div',{staticClass:\"mb-2 flex items-center border-b border-solid border-primary/5 pb-1\"},[_c('p',{staticClass:\"w-1/3 font-bold\"},[_vm._v(\"姓名:\")]),_c('p',{staticClass:\"w-2/3\"},[_vm._v(_vm._s(_vm.resultItem.customer.name))])]),_c('div',{staticClass:\"mb-2 flex items-center border-b border-solid border-primary/5 pb-1\"},[_c('p',{staticClass:\"w-1/3 font-bold\"},[_vm._v(\"電話:\")]),_c('p',{staticClass:\"w-2/3\"},[_vm._v(_vm._s(_vm.resultItem.customer.cellphone))])]),_c('div',{staticClass:\"mb-2 flex items-center border-b border-solid border-primary/5 pb-1\"},[_c('p',{staticClass:\"w-1/3 font-bold\"},[_vm._v(\"設計師:\")]),_c('p',{staticClass:\"w-2/3\",class:{'text-rejectText font-extrabold': _vm.userInfo.user.id !== _vm.resultItem.designer.id}},[_vm._v(_vm._s(_vm.resultItem.designer?_vm.resultItem.designer.name:_vm.resultItem.designer))])]),_c('div',{staticClass:\"mb-2 flex items-center border-b border-solid border-primary/5 pb-1\"},[_c('p',{staticClass:\"w-1/3 font-bold\"},[_vm._v(\"同行人數:\")]),_c('p',{staticClass:\"w-2/3\"},[_vm._v(_vm._s(_vm.resultItem.friends.length)+\"人\")])]),_c('div',{staticClass:\"mb-2 flex border-b border-solid border-primary/5 pb-1\"},[_c('label',{staticClass:\"w-1/3 font-bold\"},[_vm._v(\"備註:\")]),_c('div',{staticClass:\"relative w-2/3\"},[(_vm.isEdit)?_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.resultItem.remark),expression:\"resultItem.remark\"}],staticClass:\"w-full rounded-md border border-primary/50\",attrs:{\"name\":\"remark\",\"id\":\"\",\"rows\":\"5\"},domProps:{\"value\":(_vm.resultItem.remark)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.resultItem, \"remark\", $event.target.value)}}}):_c('p',{staticClass:\"text-rejectText\"},[_vm._v(_vm._s(_vm.resultItem.remark))]),(_vm.resultItem.remark !== '' && _vm.isEdit)?_c('font-awesome-icon',{staticClass:\" absolute right-2 bottom-2 text-rose-600\",attrs:{\"icon\":\"fa-regular fa-xmark\"},on:{\"click\":function($event){_vm.resultItem.remark = ''}}}):_vm._e()],1)]),_c('div',{staticClass:\"mb-2 flex border-b border-solid border-primary/5 pb-1\"},[_c('label',{staticClass:\"w-1/3 font-bold\"},[_vm._v(\"顧客備註:\")]),_c('div',{staticClass:\"relative w-2/3\"},[_c('p',{staticClass:\"w-full\",attrs:{\"name\":\"remark\"}},[_vm._v(_vm._s(_vm.resultItem.remarkForCustomer))])])])]),(_vm.resultItem.status === '待審查')?_c('div',{staticClass:\"mt-4\"},[_c('p',{staticClass:\"text-center text-lg font-semibold\"},[_vm._v(\"選擇審查狀態\")]),_c('div',{staticClass:\"m-auto flex max-w-[475px] justify-around p-2\"},[_c('div',{staticClass:\" w-1/3 cursor-pointer rounded bg-sucessText px-[14px] py-2 text-sm text-white\",on:{\"click\":function($event){return _vm.toggleDialog('accept')},\"keypress\":function($event){return _vm.toggleDialog('accept')}}},[_vm._v(\"接單\")]),_c('div',{staticClass:\" w-1/3 cursor-pointer rounded bg-rejectText px-[14px] py-2 text-sm text-white\",on:{\"click\":function($event){return _vm.toggleDialog('reject')},\"keypress\":function($event){return _vm.toggleDialog('reject')}}},[_vm._v(\"拒絕\")])])]):_vm._e(),(_vm.userInfo.user.id === _vm.resultItem.designer.id)?[(_vm.resultItem.status !== '待審查' && _vm.resultItem.status !=='已完成')?_c('div',{staticClass:\"mt-4\"},[_c('p',{staticClass:\"text-center text-lg font-semibold\"},[_vm._v(\"選擇審查狀態\")]),_c('div',{staticClass:\"m-auto flex max-w-[475px] justify-around p-2\"},[_c('div',{staticClass:\" flex w-1/3 cursor-pointer items-center justify-center gap-2 rounded bg-sucessText px-[14px] py-2 text-sm text-white\",on:{\"click\":function($event){return _vm.updateVerifyBookingInput(_vm.resultItem,true)},\"keypress\":function($event){return _vm.updateVerifyBookingInput(_vm.resultItem,true)}}},[(_vm.resultItem.status === '預約成功')?_c('font-awesome-icon',{staticClass:\"animate__animated animate__heartBeat animate__fast text-xl\",attrs:{\"icon\":\"fa-regular fa-circle-check\"}}):_vm._e(),_c('span',[_vm._v(\"接單\")])],1),_c('div',{staticClass:\" flex w-1/3 cursor-pointer items-center justify-center gap-2 rounded bg-rejectText px-[14px] py-2 text-sm text-white\",on:{\"click\":function($event){return _vm.updateVerifyBookingInput(_vm.resultItem,false)},\"keypress\":function($event){return _vm.updateVerifyBookingInput(_vm.resultItem,false)}}},[(_vm.resultItem.status === '設計師已取消')?_c('font-awesome-icon',{staticClass:\"animate__animated animate__heartBeat animate__fast text-xl\",attrs:{\"icon\":\"fa-regular fa-circle-check\"}}):_vm._e(),_c('span',[_vm._v(\"拒絕\")])],1)])]):_vm._e(),(_vm.resultItem.status !== '0')?_c('div',{staticClass:\"m-auto flex max-w-[475px] justify-around p-2\"},[_c('div',{staticClass:\"w-full cursor-pointer bg-second py-2 px-4 text-white\",on:{\"click\":function($event){_vm.doSubmitEdit(),_vm.isEdit = !_vm.isEdit},\"keypress\":function($event){_vm.doSubmitEdit(),_vm.isEdit = !_vm.isEdit}}},[_vm._v(_vm._s(_vm.isEdit? '儲存預約' : '修改預約'))])]):_vm._e()]:_vm._e()],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <main class=\"box-border h-full min-h-[calc(100vh-84px)] w-full pb-[84px]\">\n    <C-Back-Nav :title=\"'行事曆'\" :routeTarget=\"{name: 'ScheduleBreak'}\"></C-Back-Nav>\n    <section v-if=\"resultItem\" class=\"relative z-0 mt-[52px] p-3\">\n\n      <div  class=\"m-auto mt-4 max-w-[475px] rounded-lg p-2 text-left shadow-[0_4px_10px_3px_rgba(0,0,0,0.1)]\">\n        <p class=\"mb-2 text-center text-lg font-semibold\">{{$route.query.isReview ? '預約內容' : '預約明細'}}</p>\n        <div class=\"mb-2 flex items-center border-b border-solid border-primary/5 pb-1\">\n          <p class=\"w-1/3 font-bold\">預約時間:</p>\n          <p class=\"w-1/3\">{{resultItem.date | dateFmtROCMMDD}}</p>\n          <p class=\"w-1/3\">{{resultItem.date | dateFmtHm}}</p>\n        </div>\n\n        <div class=\"mb-2 flex items-center border-b border-solid border-primary/5 pb-1\">\n          <p class=\"w-1/3 font-bold\">姓名:</p>\n          <p class=\"w-2/3\">{{resultItem.customer.name}}</p>\n        </div>\n\n        <div class=\"mb-2 flex items-center border-b border-solid border-primary/5 pb-1\">\n          <p class=\"w-1/3 font-bold\">電話:</p>\n          <p class=\"w-2/3\">{{resultItem.customer.cellphone}}</p>\n        </div>\n\n        <!-- <div class=\"mb-2 flex items-center border-b border-solid border-primary/5 pb-1\">\n          <p class=\"w-1/3 font-bold\">服務類別:</p>\n          <p class=\"w-2/3\">{{resultItem.type}}</p>\n        </div> -->\n\n        <div class=\"mb-2 flex items-center border-b border-solid border-primary/5 pb-1\">\n          <p class=\"w-1/3 font-bold\">設計師:</p>\n          <p class=\"w-2/3\" :class=\"{'text-rejectText font-extrabold': userInfo.user.id !== resultItem.designer.id}\">{{resultItem.designer?resultItem.designer.name:resultItem.designer}}</p>\n        </div>\n\n        <div class=\"mb-2 flex items-center border-b border-solid border-primary/5 pb-1\">\n          <p class=\"w-1/3 font-bold\">同行人數:</p>\n          <p class=\"w-2/3\">{{resultItem.friends.length}}人</p>\n        </div>\n        <div class=\"mb-2 flex border-b border-solid border-primary/5 pb-1\">\n          <label class=\"w-1/3 font-bold\">備註:</label>\n          <div class=\"relative w-2/3\">\n            <textarea v-if=\"isEdit\" name=\"remark\" v-model=\"resultItem.remark\" id=\"\" rows=\"5\" class=\"w-full rounded-md border border-primary/50\"></textarea>\n            <p v-else class=\"text-rejectText\">{{resultItem.remark}}</p>\n            <font-awesome-icon v-if=\"resultItem.remark !== '' && isEdit\" @click=\"resultItem.remark = ''\" icon=\"fa-regular fa-xmark\" class=\" absolute right-2 bottom-2 text-rose-600\"/>\n          </div>\n        </div>\n        <div class=\"mb-2 flex border-b border-solid border-primary/5 pb-1\">\n          <label class=\"w-1/3 font-bold\">顧客備註:</label>\n          <div class=\"relative w-2/3\">\n            <p  name=\"remark\" class=\"w-full\">{{resultItem.remarkForCustomer}}</p>\n          </div>\n        </div>\n      </div>\n      <div class=\"mt-4\" v-if=\"resultItem.status === '待審查'\">\n        <p class=\"text-center text-lg font-semibold\">選擇審查狀態</p>\n        <div class=\"m-auto flex max-w-[475px] justify-around p-2\">\n          <div class=\" w-1/3 cursor-pointer rounded bg-sucessText px-[14px] py-2 text-sm text-white\" @click=\"toggleDialog('accept')\" @keypress=\"toggleDialog('accept')\">接單</div>\n          <div class=\" w-1/3 cursor-pointer rounded bg-rejectText px-[14px] py-2 text-sm text-white\" @click=\"toggleDialog('reject')\" @keypress=\"toggleDialog('reject')\">拒絕</div>\n        </div>\n      </div>\n      <!--\n        當訂單為已完成時，但表訂單不得再更改是否接受預約\n       -->\n       <template v-if=\"userInfo.user.id === resultItem.designer.id\">\n        <div class=\"mt-4\" v-if=\"resultItem.status !== '待審查' && resultItem.status !=='已完成'\">\n          <p class=\"text-center text-lg font-semibold\">選擇審查狀態</p>\n          <div class=\"m-auto flex max-w-[475px] justify-around p-2\">\n            <div class=\" flex w-1/3 cursor-pointer items-center justify-center gap-2 rounded bg-sucessText px-[14px] py-2 text-sm text-white\" @click=\"updateVerifyBookingInput(resultItem,true)\" @keypress=\"updateVerifyBookingInput(resultItem,true)\">\n              <font-awesome-icon icon=\"fa-regular fa-circle-check\" class=\"animate__animated animate__heartBeat animate__fast text-xl\" v-if=\"resultItem.status === '預約成功'\" />\n              <span>接單</span>\n            </div>\n            <div class=\" flex w-1/3 cursor-pointer items-center justify-center gap-2 rounded bg-rejectText px-[14px] py-2 text-sm text-white\" @click=\"updateVerifyBookingInput(resultItem,false)\" @keypress=\"updateVerifyBookingInput(resultItem,false)\">\n                <font-awesome-icon icon=\"fa-regular fa-circle-check\" class=\"animate__animated animate__heartBeat animate__fast text-xl\" v-if=\"resultItem.status === '設計師已取消'\" />\n                <span>拒絕</span>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"m-auto flex max-w-[475px] justify-around p-2\" v-if=\"resultItem.status !== '0'\">\n          <div class=\"w-full cursor-pointer bg-second py-2 px-4 text-white\" @click=\"doSubmitEdit(),isEdit = !isEdit\" @keypress=\"doSubmitEdit(),isEdit = !isEdit\">{{isEdit? '儲存預約' : '修改預約'}}</div>\n        </div>\n       </template>\n    </section>\n  </main>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\n\nexport default {\n  name: 'order-edit',\n  description: '預約單的審查',\n  metaInfo: {\n    title: '名留',\n    titleTemplate: '%s | 預約',\n  },\n  mounted() {\n    this.init();\n    // console.log(path: this.$route.path, query: { id: this.resultItem.id, isReview: this.$route.query.isReview });\n  },\n  data() {\n    return {\n      isEdit: false,\n      resultItem: null,\n    };\n  },\n  activated() {\n    this.init();\n  },\n  methods: {\n    async init() {\n      await this.getOrder(this.$route.query.id);\n    },\n    doRoute() {\n      this.$router.push({ name: 'ScheduleBreak' });\n    },\n    async getOrder(orderId) {\n      const res = await this.$api.order({ orderId });\n      const { data, errors } = res.data;\n      if (errors) return {};\n      this.resultItem = data.order;\n      return res;\n    },\n    async doSubmitEdit() {\n      if (!this.isEdit) return;\n      const resp = await this.$api.updateBooking({ id: this.$route.query.id, remark: this.resultItem.remark });\n      const { data, errors } = resp.data;\n      if (errors) return;\n      await this.getOrder(data.updateBooking.id);\n      this.$swal.fire({\n        title: ' ',\n        html:\n        `<div class=\"flex items-center justify-center\">\n          <img src=\"/designer/assets/images/success.svg\" alt=\"\" class=\"inline-block mr-1\" /><span>修改成功</span>\n        </div>\n        <br/>`,\n        confirmButtonText: '回到列表',\n        showConfirmButton: true,\n        showCloseButton: true,\n        customClass: {\n          confirmButton: '!w-[144px] !rounded !bg-second !px-[14px] !py-2 !text-sm !text-white',\n        },\n      }).then((res) => {\n        if (res.isConfirmed) {\n          this.doRoute();\n        }\n      });\n    },\n    toggleDialog(actionType) {\n      this.$swal.fire({\n        input: 'text',\n        title: ' ',\n        html:\n        `<div class=\"flex items-center justify-center\">\n          ${actionType === 'accept' ? '<img src=\"/designer/assets/images/success.svg\" alt=\"\" class=\"inline-block mr-1\" /><span>確認接單</span>' : '<img src=\"/designer/assets/images/error.svg\" alt=\"\" class=\"inline-block mr-1\" /><span>已拒絕</span>'}\n        </div>`,\n        inputPlaceholder: '請輸入備註說明',\n        confirmButtonText: '送出',\n        showConfirmButton: true,\n        showCloseButton: true,\n        showClass: {\n          popup: 'animate__animated animate__fadeInDown',\n        },\n        hideClass: {\n          popup: 'animate__animated animate__fadeOutUp animate__faster',\n        },\n        customClass: {\n          confirmButton: '!w-[144px] !rounded !bg-second !px-[14px] !py-2 !text-sm !text-white',\n        },\n      }).then((res) => {\n        if (res.isConfirmed) {\n          this.$swal.fire({\n            showCloseButton: true,\n            html:\n            `<div class=\"flex items-center justify-center my-10\">\n              ${actionType === 'accept' ? '<img src=\"/designer/assets/images/success.svg\" alt=\"\" class=\"inline-block mr-1\" /><span>接單成功</span>' : '<img src=\"/designer/assets/images/error.svg\" alt=\"\" class=\"inline-block mr-1\" /><span>拒絕成功</span>'}\n            </div>`,\n            showConfirmButton: false,\n            timer: 3000,\n            timerProgressBar: true,\n          }).then(() => {\n            this.doRoute();\n          });\n        }\n      });\n    },\n    async updateVerifyBookingInput(resultItem, isApproval) {\n      if (resultItem.status === '預約成功' && isApproval) return;\n      if (resultItem.status === '設計師已取消' && !isApproval) return;\n      const res = await this.$api.VerifyBookingInput({ orderId: resultItem.id, isApproval });\n      const { errors } = res.data;\n      if (errors) return;\n      await this.getOrder(this.$route.query.id);\n    },\n  },\n  computed: {\n    ...mapState('userInfo', ['userInfo']),\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=1579e53e&scoped=true&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1579e53e\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","name","_v","_s","$route","query","isReview","_f","resultItem","date","customer","cellphone","class","userInfo","user","id","designer","friends","length","directives","rawName","value","expression","domProps","on","$event","target","composing","$set","remark","isEdit","_e","remarkForCustomer","status","toggleDialog","updateVerifyBookingInput","doSubmitEdit","staticRenderFns","description","metaInfo","title","titleTemplate","mounted","data","activated","methods","init","doRoute","getOrder","orderId","res","errors","resp","html","confirmButtonText","showConfirmButton","showCloseButton","customClass","confirmButton","then","actionType","input","inputPlaceholder","showClass","popup","hideClass","timer","timerProgressBar","isApproval","computed","mapState","component"],"sourceRoot":""}