"use strict";(self["webpackChunkbos_designer"]=self["webpackChunkbos_designer"]||[]).push([[50],{6050:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"box-border h-full min-h-[calc(100vh-84px)] w-full pb-[84px]"},[a("C-Back-Nav",{attrs:{title:"設計師日報表",routeTarget:{name:"Report"}}}),a("section",{staticClass:"relative z-0 mt-[52px] p-3"},[a("div",{staticClass:"flex items-center gap-2"},[a("p",[e._v("日期：")]),a("vc-date-picker",{attrs:{mode:"date"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.inputValue,r=t.inputEvents;return[a("input",e._g({staticClass:"rounded border px-2 py-1 focus:border-blue-300 focus:outline-none",domProps:{value:i}},r))]}}]),model:{value:e.searchDate,callback:function(t){e.searchDate=t},expression:"searchDate"}})],1),e._l(e.reviewResult,(function(t,i){return a("div",{key:i,staticClass:"mb-5 text-left text-sm"},[a("div",{staticClass:"my-4 flex items-center justify-between"},[a("div",{staticClass:"flex items-baseline"},[a("p",{staticClass:"mr-1 text-[24px] font-bold"},[e._v(e._s(e.currentMM)+"月")]),a("p",[e._v(e._s(e.currentDD)+"日")])]),a("div",[a("p",[e._v("設計師 "+e._s(t.user.name))])])]),a("div",[e._m(0,!0),e._l(t.orderRecord,(function(t,i){return a("div",{key:"orderRecordItem-"+i,staticClass:"flex w-full items-center justify-center p-1"},[a("div",{staticClass:"w-1/5"},[e._v(e._s(t.orderNo))]),a("div",{staticClass:"w-1/5"},[e._v(e._s(t.category))]),a("div",{staticClass:"w-1/5"},[e._v(e._s(t.itemName))]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"w-1/5"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.fakePerformance):t.fakePerformance))]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"w-1/5"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.truthPerformance):t.truthPerformance))])])})),a("div",{staticClass:"flex w-full items-center justify-center p-1"},[a("div",{staticClass:"w-1/5"},[e._v("合計")]),a("div",{staticClass:"w-1/5"}),a("div",{staticClass:"w-1/5"}),a("div",{staticClass:"w-1/5 font-bold"},[e.priceDisplayOnDailyReportDefault.isPriceDisplayOnDailyReport?a("span",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}]},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.totalFakePerformance):t.totalFakePerformance))]):e._e()]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"w-1/5 font-bold"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.totalTruthPerformance):t.totalTruthPerformance))])]),e._m(1,!0),a("ul",[!e.priceDisplayOnDailyReportDefault.isPriceDisplayOnDailyReport||0===t.currentDay.performanceFakeTotal&&0===t.tillNow.performanceFakeTotal?e._e():a("li",{staticClass:"grid grid-cols-12 border-b border-b-[#aeaeae] py-1"},[a("div",{staticClass:"col-span-6"},[e._v("金額(虛)")]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.currentDay.performanceFakeTotal):t.currentDay.performanceFakeTotal))]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.tillNow.performanceFakeTotal):t.tillNow.performanceFakeTotal))])]),e.isZeroValueHiddenOnDailyReport&&0===t.currentDay.performanceTruthTotal&&0===t.tillNow.performanceTruthTotal?e._e():a("li",{staticClass:"grid grid-cols-12 border-b border-b-[#aeaeae] py-1"},[a("div",{staticClass:"col-span-6"},[e._v("實業績")]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.currentDay.performanceTruthTotal):t.currentDay.performanceTruthTotal))]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.tillNow.performanceTruthTotal):t.tillNow.performanceTruthTotal))])]),e.isZeroValueHiddenOnDailyReport&&0===t.currentDay.performanceDesignateTruthTotal&&0===t.tillNow.performanceDesignateTruthTotal?e._e():a("li",{staticClass:"grid grid-cols-12 border-b border-b-[#aeaeae] py-1"},[a("div",{staticClass:"col-span-6"},[e._v("指定實業績")]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.currentDay.performanceDesignateTruthTotal):t.currentDay.performanceDesignateTruthTotal))]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.tillNow.performanceDesignateTruthTotal):t.tillNow.performanceDesignateTruthTotal))])]),a("li",{staticClass:"grid grid-cols-12 border-b border-b-[#aeaeae] py-1"},[a("div",{staticClass:"col-span-6"},[e._v("特殊抽成")]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.currentDay.performanceWithSpecialRake):t.currentDay.performanceWithSpecialRake))]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.tillNow.performanceWithSpecialRake):t.tillNow.performanceWithSpecialRake))])]),a("li",{staticClass:"grid grid-cols-12 border-b border-b-[#aeaeae] py-1"},[a("div",{staticClass:"col-span-6"},[e._v("店販金額")]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.currentDay.productFakeTotal):t.currentDay.productFakeTotal))]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.tillNow.productFakeTotal):t.tillNow.productFakeTotal))])]),a("li",{staticClass:"grid grid-cols-12 border-b border-b-[#aeaeae] py-1"},[a("div",{staticClass:"col-span-6"},[e._v("店販抽成")]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.currentDay.productRake):t.currentDay.productRake))]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.tillNow.productRake):t.tillNow.productRake))])]),a("li",{staticClass:"grid grid-cols-12 border-b border-b-[#aeaeae] py-1"},[a("div",{staticClass:"col-span-6"},[e._v("互助使用(不含點)")]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(" "+e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.currentDay.helperPaidPrice):t.currentDay.helperPaidPrice)+" ")]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(" "+e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.tillNow.helperPaidPrice):t.tillNow.helperPaidPrice)+" ")])]),a("li",{staticClass:"grid grid-cols-12 border-b border-b-[#aeaeae] py-1"},[a("div",{staticClass:"col-span-6"},[e._v("互助使用(點)")]),a("div",{staticClass:"col-span-3"},[a("span",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}]},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.currentDay.helperPaidPoint):t.currentDay.helperPaidPoint))]),e.priceDisplayOnDailyReportDefault.isHelperPointPriceDisplay?[e._v(" / "),a("span",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}]},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(-1*t.currentDay.helperPaidPriceFromPoint):-1*t.currentDay.helperPaidPriceFromPoint))])]:e._e()],2),a("div",{staticClass:"col-span-3"},[a("span",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}]},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.tillNow.helperPaidPoint):t.tillNow.helperPaidPoint))]),e.priceDisplayOnDailyReportDefault.isHelperPointPriceDisplay?[e._v(" / "),a("span",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}]},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(-1*t.tillNow.helperPaidPriceFromPoint):-1*t.tillNow.helperPaidPriceFromPoint))])]:e._e()],2)]),!e.isDisplayHelperRetrieveInDailyReport||0===t.currentDay.helpGetNoPoint&&0===t.tillNow.helpGetNoPoint?e._e():a("li",{staticClass:"grid grid-cols-12 border-b border-b-[#aeaeae] py-1"},[a("div",{staticClass:"col-span-6"},[e._v("互助獲得金額(不含點)")]),a("div",{staticClass:"col-span-3"},[e.priceDisplayOnDailyReportDefault.isHelperPointPriceDisplay?[a("span",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}]},[e._v(" "+e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.currentDay.helpGetNoPoint):t.currentDay.helpGetNoPoint)+" ")])]:[e._v(" 0 ")]],2),a("div",{staticClass:"col-span-3"},[e.priceDisplayOnDailyReportDefault.isHelperPointPriceDisplay?[a("span",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}]},[e._v(" "+e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.tillNow.helpGetNoPoint):t.tillNow.helpGetNoPoint)+" ")])]:[e._v(" 0 ")]],2)]),!e.isDisplayHelperRetrieveInDailyReport||0===t.currentDay.helperRetrievePoint&&0===t.tillNow.helperRetrievePoint?e._e():a("li",{staticClass:"grid grid-cols-12 border-b border-b-[#aeaeae] py-1"},[a("div",{staticClass:"col-span-6"},[e._v("互助獲得(點)點數/換算金額")]),a("div",{staticClass:"col-span-3"},[a("span",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}]},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.currentDay.helperRetrievePoint):t.currentDay.helperRetrievePoint))]),e.priceDisplayOnDailyReportDefault.isHelperPointPriceDisplay?[e._v(" / "),a("span",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}]},[e._v(" "+e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.currentDay.helperRetrievePrice):t.currentDay.helperRetrievePrice))])]:e._e()],2),a("div",{staticClass:"col-span-3"},[a("span",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}]},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.tillNow.helperRetrievePoint):t.tillNow.helperRetrievePoint))]),e.priceDisplayOnDailyReportDefault.isHelperPointPriceDisplay?[e._v(" / "),a("span",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}]},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.tillNow.helperRetrievePrice):t.tillNow.helperRetrievePrice))])]:e._e()],2)]),e.isZeroValueHiddenOnDailyReport&&0===t.currentDay.orderTotalCount&&0===t.tillNow.orderTotalCount?e._e():a("li",{staticClass:"grid grid-cols-12 border-b border-b-[#aeaeae] py-1"},[a("div",{staticClass:"col-span-6"},[e._v("總客數")]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.currentDay.orderTotalCount):t.currentDay.orderTotalCount))]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.tillNow.orderTotalCount):t.tillNow.orderTotalCount))])]),e.isZeroValueHiddenOnDailyReport&&0===t.currentDay.designateOrderCount&&0===t.tillNow.designateOrderCountl?e._e():a("li",{staticClass:"grid grid-cols-12 border-b border-b-[#aeaeae] py-1"},[a("div",{staticClass:"col-span-6"},[e._v("指定客")]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.currentDay.designateOrderCount):t.currentDay.designateOrderCount))]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.tillNow.designateOrderCount):t.tillNow.designateOrderCount))])]),e.isZeroValueHiddenOnDailyReport&&0===t.currentDay.nonDesignateOrderCount&&0===t.tillNow.nonDesignateOrderCount?e._e():a("li",{staticClass:"grid grid-cols-12 border-b border-b-[#aeaeae] py-1"},[a("div",{staticClass:"col-span-6"},[e._v("不指定客")]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.currentDay.nonDesignateOrderCount):t.currentDay.nonDesignateOrderCount))]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.tillNow.nonDesignateOrderCount):t.tillNow.nonDesignateOrderCount))])]),!e.isZeroValueHiddenOnDailyReport||(e.countMath(t.currentDay.performanceFakeTotal,t.currentDay.orderTotalCount)||e.countMath(t.tillNow.performanceFakeTotal,t.tillNow.orderTotalCount))?a("li",{staticClass:"grid grid-cols-12 border-b border-b-[#aeaeae] py-1"},[a("div",{staticClass:"col-span-6"},[e._v("客單價")]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.countMath(t.currentDay.performanceFakeTotal,t.currentDay.orderTotalCount)))]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.countMath(t.tillNow.performanceFakeTotal,t.tillNow.orderTotalCount)))])]):e._e(),e.isZeroValueHiddenOnDailyReport&&0===t.currentDay.orderTypeCount&&0===t.tillNow.orderTypeCount?e._e():a("li",{staticClass:"grid grid-cols-12 border-b border-b-[#aeaeae] py-1"},[a("div",{staticClass:"col-span-6"},[e._v("客項次(服務)")]),a("div",{staticClass:"col-span-3"},[a("span",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}]},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.currentDay.orderTypeCount):t.currentDay.orderTypeCount))])]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.isUsingMathRoundInDesignerDailyReport?Math.round(t.tillNow.orderTypeCount):t.tillNow.orderTypeCount))])]),!e.isZeroValueHiddenOnDailyReport||(e.countMath(t.currentDay.performanceFakeTotal,t.currentDay.orderTypeCount)||e.countMath(t.tillNow.performanceFakeTotal,t.tillNow.orderTypeCount))?a("li",{staticClass:"grid grid-cols-12 border-b border-b-[#aeaeae] py-1"},[a("div",{staticClass:"col-span-6"},[e._v("平均項次單價")]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.countMath(t.currentDay.performanceFakeTotal,t.currentDay.orderTypeCount)))]),a("div",{directives:[{name:"to-fixed",rawName:"v-to-fixed"}],staticClass:"col-span-3"},[e._v(e._s(e.countMath(t.tillNow.performanceFakeTotal,t.tillNow.orderTypeCount)))])]):e._e()])],2)])})),0===e.reviewResult.length?a("p",{staticClass:"mt-10 text-center text-sm text-stone-400"},[e._v("查無資料")]):e._e()],2)],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:" flex w-full items-center justify-center border-b border-solid border-primary/50 bg-[#08424c]/80 p-1 text-white"},[a("div",{staticClass:"w-1/5"},[e._v("單號")]),a("div",{staticClass:"w-1/5"},[e._v("類別")]),a("div",{staticClass:"w-1/5"},[e._v("項目")]),a("div",{staticClass:"w-1/5"},[e._v("金額")]),a("div",{staticClass:"w-1/5"},[e._v("業績")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",{staticClass:"grid grid-cols-12 border-b border-solid border-primary/50 bg-[#08424c]/80 p-1 text-white"},[a("div",{staticClass:"col-span-6"}),a("div",{staticClass:"col-span-3"},[e._v("日合計")]),a("div",{staticClass:"col-span-3"},[e._v("累計")])])])}],s=a(1283),o=a(5399),n=a(629),l={name:"priceList-index",description:"報表的設計師日報表",metaInfo:{title:"名留",titleTemplate:"%s | 設計師日報表"},data(){return{year:s.Z,month:o.Z,date:"",searchDate:this.$dayjs().valueOf(),reviewResult:{},isDisplayHelperRetrieveInDailyReport:!1,isUsingMathRoundInDesignerDailyReport:!1,isZeroValueHiddenOnDailyReport:!1,priceDisplayOnDailyReportDefault:{}}},mounted(){this.init()},methods:{async init(){await Promise.all([this.getIsDisplayHelperRetrieveInDailyReport(),this.getIsUsingMathRoundInDesignerDailyReport(),this.getIsZeroValueHiddenOnDailyReport(),this.getPriceDisplayOnDailyReportDefault()]).then((()=>{})),await this.getDesignerDailyReport()},async getIsDisplayHelperRetrieveInDailyReport(){const e=await this.$api.getIsDisplayHelperRetrieveInDailyReport(),{data:t,errors:a}=e.data;a||(this.isDisplayHelperRetrieveInDailyReport=t.getIsDisplayHelperRetrieveInDailyReport)},async getIsUsingMathRoundInDesignerDailyReport(){const e=await this.$api.getIsUsingMathRoundInDesignerDailyReport(),{data:t,errors:a}=e.data;a||(this.isUsingMathRoundInDesignerDailyReport=t.getIsUsingMathRoundInDesignerDailyReport)},async getIsZeroValueHiddenOnDailyReport(){const e=await this.$api.getIsZeroValueHiddenOnDailyReport(),{data:t,errors:a}=e.data;a||(this.isZeroValueHiddenOnDailyReport=t.getIsZeroValueHiddenOnDailyReport)},async getPriceDisplayOnDailyReportDefault(){const e=await this.$api.getPriceDisplayOnDailyReportDefault(),{data:t,errors:a}=e.data;a||(this.priceDisplayOnDailyReportDefault=t.getPriceDisplayOnDailyReportDefault)},doRoute(){this.$router.push({name:"Punch"})},async getDesignerDailyReport(){this.totalFakePerformance=0,this.totalTruthPerformance=0;const e=await this.$api.designerDailyReport({date:this.$dayjs(this.searchDate).valueOf(),designerIds:[this.userInfo.user.id]}),{data:t,errors:a}=e.data;return a?[]:(this.reviewResult=Array.isArray(t.designerDailyReport)?t.designerDailyReport:[],this.reviewResult.length>0&&(this.reviewResult=this.reviewResult.map((e=>{let{totalFakePerformance:t=0,totalTruthPerformance:a=0,...i}=e;return i.orderRecord.forEach((e=>{t+=e.fakePerformance,a+=e.truthPerformance})),{totalFakePerformance:t,totalTruthPerformance:a,...i}}))),e)},countMath(e,t){return this.isUsingMathRoundInDesignerDailyReport?Math.round(e,t):(+e/+t).toFixed(1)}},computed:{...(0,n.rn)("userInfo",["userInfo"]),totalCount(){return e=>{const t=(e,t)=>+e+ +t,a=e.map((e=>e.price));return a.length>0?a.reduce(t):0}},currentMM(){let e="";return e=this.searchDate?this.$dayjs(this.searchDate).format("MM"):this.$dayjs(new Date).format("MM"),e},currentDD(){let e="";return e=this.searchDate?this.$dayjs(this.searchDate).format("DD"):this.$dayjs(new Date).format("DD"),e}},watch:{searchDate(){this.getDesignerDailyReport()}}},d=l,c=a(3736),p=(0,c.Z)(d,i,r,!1,null,null,null),u=p.exports}}]);
//# sourceMappingURL=50.6ca77a33.js.map